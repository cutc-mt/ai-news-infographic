<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LangFlow 1.7 - グローバルコンテキストパッシングでAPI連携が劇的に進化</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --color-1: #0284c7;
            --color-2: #0369a1;
            --color-3: #7dd3fc;
            --color-4: #082f49;
            --color-5: #f0f9ff;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #0284c7 0%, #082f49 100%); padding: 20px; line-height: 1.6; }
        .container { max-width: 1400px; margin: 0 auto; background: white; border-radius: 20px; padding: 40px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); }
        header { text-align: center; margin-bottom: 50px; padding-bottom: 30px; border-bottom: 4px solid var(--color-1); }
        h1 { font-size: 2.8em; color: var(--color-2); margin-bottom: 20px; text-shadow: 2px 2px 4px rgba(0,0,0,0.1); }
        .subtitle { font-size: 1.3em; color: #666; margin-bottom: 15px; }
        .meta-info { display: flex; justify-content: center; gap: 30px; flex-wrap: wrap; margin-top: 20px; font-size: 1.1em; color: #555; }
        .meta-info span { display: flex; align-items: center; gap: 8px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 30px; margin-bottom: 40px; }
        .card { background: linear-gradient(135deg, #ffffff 0%, #f0f9ff 100%); border-radius: 15px; padding: 25px; box-shadow: 0 10px 30px rgba(2, 132, 199, 0.1); transition: all 0.3s ease; border: 2px solid var(--color-5); animation: fadeInUp 0.6s ease-out; }
        .card:hover { transform: translateY(-10px); box-shadow: 0 15px 40px rgba(2, 132, 199, 0.2); border-color: var(--color-3); }
        .card-icon { font-size: 3em; color: var(--color-1); margin-bottom: 15px; text-align: center; }
        .card h2 { color: var(--color-2); font-size: 1.4em; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 2px solid var(--color-5); }
        .card p { color: #444; font-size: 1.05em; line-height: 1.8; }
        .highlight { background: linear-gradient(120deg, var(--color-5) 0%, #bae6fd 100%); padding: 2px 8px; border-radius: 4px; font-weight: bold; color: var(--color-4); }
        code { background: #f1f5f9; padding: 2px 6px; border-radius: 3px; font-family: 'Consolas', 'Courier New', monospace; font-size: 0.95em; color: var(--color-4); }
        footer { margin-top: 50px; padding-top: 30px; border-top: 3px solid var(--color-1); text-align: center; color: #666; }
        footer a { color: var(--color-1); text-decoration: none; font-weight: bold; }
        footer a:hover { color: var(--color-2); text-decoration: underline; }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        @media (max-width: 768px) { .container { padding: 20px; } h1 { font-size: 2em; } .grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-project-diagram"></i> LangFlow 1.7: グローバルコンテキストが登場</h1>
            <div class="subtitle">待望の新機能「グローバルコンテキストパッシング」でAPI経由のデータ受け渡しが劇的にシンプルに</div>
            <div class="meta-info">
                <span><i class="fas fa-user"></i> Coding Crash Courses</span>
                <span><i class="fas fa-clock"></i> 5分</span>
                <span><i class="fas fa-calendar"></i> 2026年2月2日</span>
            </div>
        </header>

        <div class="grid">
            <div class="card">
                <div class="card-icon"><i class="fas fa-puzzle-piece"></i></div>
                <h2>①LangFlowとは: オープンソースのローコードAIプラットフォーム</h2>
                <p>LangFlowは<span class="highlight">最も人気のあるローコードAIエージェント構築プラットフォーム</span>で、完全にオープンソースで提供されている。GUIでフローを構築し、コンポーネントをつなぎ合わせることでAIアプリケーションを視覚的に作成できる。バージョン1.7では待望のグローバルコンテキストパッシング機能がAPIに追加された。</p>
            </div>

            <div class="card">
                <div class="card-icon"><i class="fas fa-exclamation-triangle"></i></div>
                <h2>②従来のTweaks方式の問題点: 壊れやすい設計</h2>
                <p>これまでコンポーネントにデータを渡すには<code>tweaks</code>を使い、特定のコンポーネントIDを指定する必要があった。<span class="highlight">コンポーネントIDはバージョン更新のたびに変わるため、壊れやすく保守が困難</span>だった。マルチテナントアプリでユーザー名やテナントIDを渡すたびにIDを調べ直す必要があり、非常に不便だった。</p>
            </div>

            <div class="card">
                <div class="card-icon"><i class="fas fa-globe"></i></div>
                <h2>③グローバルコンテキストとは: 一度渡せばどこでもアクセス可能</h2>
                <p>新しいグローバルコンテキスト機能では、<span class="highlight">API呼び出し時にコンテキストを一度渡すだけで、フロー内のすべてのコンポーネントからアクセスできる</span>。コンポーネントIDを知る必要がなくなり、ユーザー名・テナントID・ユーザー設定などを簡単に共有できる。<code>self.ctx</code>属性を使って辞書形式でデータにアクセスする仕組みである。</p>
            </div>

            <div class="card">
                <div class="card-icon"><i class="fas fa-code"></i></div>
                <h2>④カスタムコンポーネントの実装: self.ctxで取得</h2>
                <p>LangFlowの<code>BaseComponent</code>クラスを継承してカスタムコンポーネントを作成する。<span class="highlight"><code>self.ctx["username"]</code>のように辞書アクセスでコンテキストデータを取得</span>できる。キーが存在しない場合のフォールバック値も設定可能で、堅牢なコンポーネント設計ができる。UVでインストールし、コンポーネントパスを指定して起動する。</p>
            </div>

            <div class="card">
                <div class="card-icon"><i class="fas fa-paper-plane"></i></div>
                <h2>⑤ペイロードでコンテキストを渡す方法: 推奨アプローチ</h2>
                <p>APIリクエストのペイロードに<code>"context"</code>キーを追加し、辞書形式でデータを渡す。例えば<code>{"context": {"username": "Ellis"}}</code>のように記述する。<span class="highlight">複数の情報を一度に渡せるため、ヘッダー方式よりもクリーンで推奨される方法</span>である。コンポーネント側の辞書アクセスと直接対応しているためわかりやすい。</p>
            </div>

            <div class="card">
                <div class="card-icon"><i class="fas fa-heading"></i></div>
                <h2>⑥ヘッダーでコンテキストを渡す方法: 代替手段</h2>
                <p>HTTPヘッダーを使ってコンテキストを渡すことも可能。<code>x-langflow-global-v-username: Ellis</code>のようにプレフィックス付きで指定する。ただし<span class="highlight">多くの情報を渡す場合はヘッダーが煩雑になるため、ペイロード方式の方が望ましい</span>。シンプルな値を少数だけ渡すケースでは選択肢として有効である。</p>
            </div>

            <div class="card">
                <div class="card-icon"><i class="fas fa-key"></i></div>
                <h2>⑦APIキーの設定: フローの公開手順</h2>
                <p>LangFlowのフローをAPI経由で利用するには、まず「Share」→「API Access」でフローを公開する。<span class="highlight">設定画面からAPIキーを生成し、.envファイルに保存</span>して認証に使用する。フローIDとPythonコードが自動で生成されるため、すぐにAPI連携を始められる。</p>
            </div>

            <div class="card">
                <div class="card-icon"><i class="fas fa-building"></i></div>
                <h2>⑧マルチテナントアプリへの活用: 実用的なユースケース</h2>
                <p>グローバルコンテキストは<span class="highlight">マルチテナントアプリケーション構築において特に威力を発揮</span>する。テナントIDやユーザー名、権限情報などをAPI呼び出し時に一度渡すだけで、フロー全体でその情報を活用できる。複雑なフローでもコンポーネントIDに依存しないため、安定した運用が可能になる。</p>
            </div>

            <div class="card">
                <div class="card-icon"><i class="fas fa-rocket"></i></div>
                <h2>⑨まとめ: オープンソースAIプラットフォームの大きな進化</h2>
                <p>LangFlow 1.7のグローバルコンテキスト機能は、<span class="highlight">API連携の設計をシンプルかつ堅牢にする重要なアップデート</span>である。壊れやすいTweaks方式から脱却し、クリーンなデータ受け渡しが可能になった。ローコードでAIエージェントを構築したい開発者にとって、ますます魅力的なプラットフォームとなっている。</p>
            </div>
        </div>

        <footer>
            <p><i class="fas fa-video"></i> 出典: <a href="https://www.youtube.com/watch?v=jXcO1T6JEJA" target="_blank">LangFlow just became even more AWESOME - LangFlow 1.7 is here! - Coding Crash Courses</a></p>
            <p style="margin-top: 10px;"><i class="fab fa-github"></i> リポジトリ: <a href="https://github.com/Coding-Crashkurse/LangFlow-YouTube" target="_blank">Coding-Crashkurse/LangFlow-YouTube</a></p>
            <p style="margin-top: 15px; font-size: 0.9em; color: #999;">AI News Infographic &copy; 2026</p>
        </footer>
    </div>
</body>
</html>